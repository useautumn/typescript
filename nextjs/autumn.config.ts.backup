import {
	feature,
	product,
	featureItem,
	pricedFeatureItem,
	priceItem,
} from "atmn";

// Features
export const pages = feature({
	id: "pages",
	name: "Waitlist Pages",
	type: "continuous_use",
});

export const projects = feature({
	id: "projects",
	name: "Projects",
	type: "continuous_use",
});

export const warmupEmails = feature({
	id: "warmup_emails",
	name: "Warmup emails",
	type: "single_use",
});

export const slackNotifications = feature({
	id: "slack_notifications",
	name: "Slack notifications",
	type: "boolean",
});

export const discordNotifications = feature({
	id: "discord_notifications",
	name: "Discord notifications",
	type: "boolean",
});

export const waitlists = feature({
	id: "waitlists",
	name: "Waitlists",
	type: "continuous_use",
});

// Products
export const project = product({
	id: "project",
	name: "Project",
	items: [
		priceItem({
			price: 29.99,
			interval: "month",
		}),

		pricedFeatureItem({
			feature_id: pages.id,
			price: 5,
			interval: "week",
			included_usage: 1,
			billing_units: 1,
			usage_model: "pay_per_use",
			entity_feature_id: waitlists.id,
		}),

		pricedFeatureItem({
			feature_id: waitlists.id,
			price: 5,
			interval: "month",
			included_usage: 1,
			billing_units: 1,
			usage_model: "prepaid",
		}),

		pricedFeatureItem({
			feature_id: warmupEmails.id,
			price: 0.5,
			included_usage: 1000,
			billing_units: 1000,
			usage_model: "prepaid",
			entity_feature_id: waitlists.id,
		}),

		featureItem({
			feature_id: discordNotifications.id,
			included_usage: undefined,
			entity_feature_id: waitlists.id,
		}),

		featureItem({
			feature_id: slackNotifications.id,
			included_usage: undefined,
			entity_feature_id: waitlists.id,
		}),
	],
});
